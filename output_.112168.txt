sbatch: error: Batch job submission failed: Invalid account or account/partition combination specified
#!/bin/bash -l
#SBATCH --account=beknur.kalmakhanbet
#SBATCH --nodes=1
#SBATCH --gpus-per-node=8
#SBATCH --tasks-per-node=8
#SBATCH --time=24:00:00
#SBATCH --chdir=/home/beknur.kalmakhanbet/vision-lstm
#SBATCH --output=/home/beknur.kalmakhanbet/vision-lstm/output_.%A.txt
#SBATCH --job-name=train_minLSTM # Job name
#SBATCH --ntasks=1 # Run on a single CPU
#SBATCH --mem=40G # Total RAM to be used
#SBATCH --cpus-per-task=64 # Number of CPU cores
#SBATCH --gres=gpu:1 # Number of GPUs (per node)
#SBATCH -p cscc-gpu-p # Use the gpu partition
#SBATCH -q cscc-gpu-qos # To enable the use of up to 8 GPUs

# set the first node name as master address
master_addr=$(scontrol show hostnames "$SLURM_JOB_NODELIST" | head -n 1)
export MASTER_ADDR=$master_addr
export MASTER_PORT=55555
# add all hostnames info for logging
export ALL_HOST_NAMES=$(scontrol show hostnames "$SLURM_JOB_NODELIST")

# activate conda env
conda activate minLSTM

# write python command to log file -> easy check for which run crashed if there is some config issue
echo python main_train.py --hp src/vislstm/yamls/pretrain/vil/lstm_6M16_e800_bialter_bilatflat_conv2d3_lr1e3_res192_bias.yaml

# run
srun --cpus-per-task 16 python main_train.py --hp src/vislstm/yamls/pretrain/vil/lstm_6M16_e800_bialter_bilatflat_conv2d3_lr1e3_res192_bias.yaml
